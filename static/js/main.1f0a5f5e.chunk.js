(this["webpackJsonpshopping-list"]=this["webpackJsonpshopping-list"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(4),o=n.n(s),i=n(2),r=(n(9),n(0));var l=function(e){var t=e.onClick,n=e.text,a=e.active;return Object(r.jsx)(r.Fragment,{children:a?Object(r.jsx)("button",{className:"btn btn-active",onClick:t,children:n}):Object(r.jsx)("button",{className:"btn btn-inactive",onClick:t,children:n})})};n(11);var u=function(e){var t,n=e.onClick,c=e.id,s=e.change,o=e.name,u=e.amount,m=e.measure,j=e.active,h=e.onVisChange,b=e.onAmountChange,g=Object(a.useState)(u),O=Object(i.a)(g,2),p=O[0],v=O[1],d=Object(a.useState)(u),x=Object(i.a)(d,2),f=x[0],S=x[1];return t=j?"item":"item item-inactive",Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)("span",{className:"item__btn-right",children:j?Object(r.jsx)(l,{onClick:function(){return s&&S(p),void b(c)},text:s?"\u270e":"\u2710"}):Object(r.jsx)(l,{onClick:function(){return n(c)},text:"\ud83d\uddd1"})}),j?Object(r.jsx)(l,{onClick:function(){return h(c)},text:"\u2714",active:!1}):Object(r.jsx)(l,{onClick:function(){return h(c)},text:"\u2718",active:!0}),s&&j?Object(r.jsxs)("span",{children:[Object(r.jsx)("input",{className:"item__input",type:"number",value:p,min:"1",max:"100",onChange:function(e){var t=e.target.value;v(t)}}),m,Object(r.jsx)("span",{className:"item__btn-right",children:Object(r.jsx)(l,{onClick:function(){v(f),b(c)},text:"\u21a9"})})]}):Object(r.jsxs)("span",{className:"item__info",children:[o," ",p," ",m]})]})};n(12);var m=function(e){var t=e.onClick,n=e.shopListDb,a=e.onVisChange,c=e.onAmountChange,s=JSON.parse(n).map((function(e,n){return Object(r.jsx)("div",{children:Object(r.jsx)(u,{id:n,name:e.name,amount:e.amount,measure:e.measure,active:e.active,change:e.change,onClick:t,onVisChange:a,onAmountChange:c})})}));return Object(r.jsx)("div",{className:"itemList",children:s})};n(13);var j=function(e){var t=e.onClick,n=e.history,a=JSON.parse(n).map((function(e,n){if(n<=9)return Object(r.jsxs)("button",{className:"history__btn",id:n,name:e.name,measure:e.measure,onClick:function(){return t(e.name,e.measure)},children:[e.name,"(",e.measure,")"]})}));return Object(r.jsxs)("div",{className:"history",children:[Object(r.jsx)("h3",{children:"Najcz\u0119\u015bciej dodawane:"}),a]})};n(14);var h=function(e){var t=e.onClick,n=e.historyDb,c=Object(a.useState)(""),s=Object(i.a)(c,2),o=s[0],u=s[1],m=Object(a.useState)(0),h=Object(i.a)(m,2),b=h[0],g=h[1],O=Object(a.useState)(""),p=Object(i.a)(O,2),v=p[0],d=p[1],x=Object(a.useState)(n),f=Object(i.a)(x,2),S=f[0],J=f[1],N=Object(a.useState)(!1),k=Object(i.a)(N,2),C=k[0],y=k[1];return Object(r.jsxs)("div",{className:"selector",children:[Object(r.jsx)(l,{onClick:function(){return function(){y(!C);var e=JSON.parse(localStorage.getItem("shopHistoryJson"));e.sort((function(e,t){return e.tick<t.tick?1:e.tick>t.tick?-1:0})),J(JSON.stringify(e))}()},text:"\u23f1",active:C}),Object(r.jsx)("div",{className:"selector__wrapper",children:Object(r.jsxs)("div",{className:"selector__box",children:[Object(r.jsx)("input",{className:"selector__input",id:"productName",type:"text",onChange:function(e){u(e.target.value)},value:o}),Object(r.jsxs)("div",{className:"selector__box-underline",children:[Object(r.jsx)("input",{className:"selector__input",id:"productAmount",type:"number",onChange:function(e){g(e.target.value)},min:"0",value:b}),Object(r.jsxs)("select",{className:"selector__select",id:"productMeasure",name:"type",onChange:function(e){d(e.target.value)},value:v,children:[Object(r.jsx)("option",{value:"g",children:"g"}),Object(r.jsx)("option",{value:"dag",children:"dag"}),Object(r.jsx)("option",{value:"kg",children:"kg"}),Object(r.jsx)("option",{value:"ml",children:"ml"}),Object(r.jsx)("option",{value:"l",children:"l"}),Object(r.jsx)("option",{value:"sz",children:"sz"})]}),Object(r.jsx)("span",{style:{float:"right"},children:""!==o&&"0"!==b&&0!==b?Object(r.jsx)(l,{onClick:t,text:"+"}):""})]}),C?Object(r.jsx)(j,{history:S,onClick:function(e,t){u(e),d(t),y(!1)}}):""]})})]})},b=JSON.stringify([{name:"Chleb",amount:1,measure:"sz",active:!0,change:!1},{name:"Mleko",amount:.5,measure:"l",active:!0,change:!1},{name:"Sopocka",amount:20,measure:"dag",active:!0,change:!1},{name:"Kurczak",amount:.5,measure:"kg",active:!0,change:!1}]),g=JSON.stringify([{name:"Chleb",tick:1,measure:"sz"}]);n(15);var O=function(){var e=Object(a.useState)(b),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(g),o=Object(i.a)(s,2),u=o[0],j=o[1],O=Object(a.useState)(!1),p=Object(i.a)(O,2),v=p[0],d=p[1];Object(a.useEffect)((function(){null===localStorage.getItem("shopListJson")?(localStorage.setItem("shopListJson",b),c(localStorage.getItem("shopListJson"))):c(localStorage.getItem("shopListJson")),null===localStorage.getItem("shopHistoryJson")?(localStorage.setItem("shopHistoryJson",g),j(localStorage.getItem("shopHistoryJson"))):j(localStorage.getItem("shopHistoryJson"))}),[]);var x=function(e,t){var n=JSON.parse(localStorage.getItem("shopHistoryJson")),a={name:e,tick:1,measure:t},c=!1;n.map((function(t){t.name===e&&t.tick>=1&&(t.tick++,c=!0)})),c||n.push(a),localStorage.setItem("shopHistoryJson",JSON.stringify(n))};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(l,{onClick:function(){return setTimeout(d(!v),200)},text:"\u2328",active:v}),v?Object(r.jsx)(h,{historyDb:u,onClick:function(){var e=JSON.parse(localStorage.getItem("shopListJson")),t=document.getElementById("productName"),n=document.getElementById("productAmount"),a=document.getElementById("productMeasure"),s={name:t.value,amount:n.value,measure:a.value,active:!0,change:!1};e.push(s),localStorage.setItem("shopListJson",JSON.stringify(e)),c(localStorage.getItem("shopListJson")),x(t.value,a.value)}}):"",Object(r.jsx)(m,{shopListDb:n,onClick:function(e){var t=JSON.parse(n);t.splice(e,1),localStorage.setItem("shopListJson",JSON.stringify(t)),c(localStorage.getItem("shopListJson"))},onVisChange:function(e){var t=JSON.parse(n);t[e].active=!t[e].active,localStorage.setItem("shopListJson",JSON.stringify(t)),c(localStorage.getItem("shopListJson"))},onAmountChange:function(e){var t=JSON.parse(n);t[e].change=!t[e].change,localStorage.setItem("shopListJson",JSON.stringify(t)),c(localStorage.getItem("shopListJson"))}})]})};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.1f0a5f5e.chunk.js.map